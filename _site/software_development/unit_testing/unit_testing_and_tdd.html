<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Unit Testing | saubhik</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Unit Testing" />
<meta name="author" content="Saubhik Mukherjee" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Personal cyber-space dump." />
<meta property="og:description" content="Personal cyber-space dump." />
<link rel="canonical" href="http://localhost:4000/software_development/unit_testing/unit_testing_and_tdd.html" />
<meta property="og:url" content="http://localhost:4000/software_development/unit_testing/unit_testing_and_tdd.html" />
<meta property="og:site_name" content="saubhik" />
<script type="application/ld+json">
{"description":"Personal cyber-space dump.","author":{"@type":"Person","name":"Saubhik Mukherjee"},"@type":"WebPage","url":"http://localhost:4000/software_development/unit_testing/unit_testing_and_tdd.html","headline":"Unit Testing","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=7f90a6ed2a8ee84cfa7f3ceb5a300c7e86b460f3">
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">saubhik</a></h1>

        

        <p>Personal cyber-space dump.</p>

        <p class="view"><a href="https://github.com/saubhik/">View my GitHub profile<small>github.com/saubhik</small></a></p>
        <p class="view"><a href="/posts.html">Blog<small>/posts</small></a></p>

        

        <a href="/index.html">Home</a>
</br><a href="/papers/">Comments on deep learning papers</a>
</br><a href="/epi/">Elements Of Programming Interviews</a>
</br><a href="/software_development/">Software Development</a>
</br><a href="/utilities/">Utilities</a>
</br><a href="/data_science/">Data Science</a>
</br><a href="/notebooks/">Jupyter Notebooks</a>
</br><a href="/deep_learning/">Deep Learning</a>
</br><a href="/coursework/index.html">CS courses notes</a>
</br><a href="/this_site/">About this website</a>
</br><a href="/practice-javascript/">Practice Javascript</a>


      </header>
      <section>

      <h3 id="unit-testing">Unit Testing</h3>

<p>A unit in a code could be a method, class, sequence of methods, sequence of classes.
Testing individual units in a code is important for a working software which is an integration
of these units.</p>

<p>3 different kinds of test case scenarios:</p>
<ol>
  <li>pass case scenario</li>
  <li>fail case scenario</li>
  <li>edge case scenario</li>
</ol>

<p>Test cases should be fast, repeatable, trustworthy, maintainable &amp; isolated.
An object under test can have dependencies on other objects. We replace the other objects
by mocks to simulate their behavior. This is <em>object mocking</em>.</p>

<p>JUnit is an open source regression testing tool. Set up a Maven project to include JUnit.
Project Object Model file (POM.xml) is an xml file consisting of all Maven configuration
details used for building the project. Include the following in POM for JUnit:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">dependencies</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">junit</span><span class="o">-</span><span class="n">api</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">5.0</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">ALPHA</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependencies</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>Assertions are methods to determine the pass or fail status of a unit test case.
Import <code class="highlighter-rouge">import org.junit.Assertions</code> and <code class="highlighter-rouge">import org.junit.Test</code>. Annotate the test method
with <code class="highlighter-rouge">@Test</code>. It should be <code class="highlighter-rouge">void</code> with no parameters.</p>

<p>3 Aâ€™s of unit testing:</p>
<ol>
  <li>Arrange the code</li>
  <li>Act i.e. invoke the target code</li>
  <li>Assert i.e. verify the code through assertions</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.junit.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">bool</span> <span class="nf">prime</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">sqrt</span><span class="o">(</span><span class="n">n</span><span class="o">);</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="nd">@Test</span>
    <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"test prime method"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPrime</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// arrange</span>
        <span class="n">bool</span> <span class="n">temp</span><span class="o">;</span>
        <span class="n">Example</span> <span class="n">example</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Example</span><span class="o">();</span>
        <span class="c1">// act</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="na">prime</span><span class="o">(</span><span class="mi">11</span><span class="o">);</span>
        <span class="c1">// assert</span>
        <span class="n">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">temp</span><span class="o">)</span><span class="err">''</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Use the annotations <code class="highlighter-rouge">@BeforeEach</code>, <code class="highlighter-rouge">@AfterEach</code>, <code class="highlighter-rouge">@BeforeAll</code>, <code class="highlighter-rouge">@AfterAll</code> for methods
which has to run before each or all test methods, or after each or all test methods. Some
assertions are <code class="highlighter-rouge">assertTrue()</code>, <code class="highlighter-rouge">assertNull()</code>, <code class="highlighter-rouge">assertnotNull()</code>, <code class="highlighter-rouge">assertEquals()</code>.</p>

<p>TDD, Test-Driven Development is a philosophy where you write the test code first, and then
write the code to make the test pass. Re-iterate. Finally refactor the code.</p>

<p>Good test cases should have:</p>
<ol>
  <li>high code coverage</li>
  <li>multiple assertions to verify results from multiple angles</li>
  <li>if something in the code breaks, should be able to catch it with some assertion</li>
</ol>

<p>Refactoring is changing the code structure without affecting the code functionality.
Refactoring can be done by:</p>
<ol>
  <li>changing variable name</li>
  <li>changing method name</li>
  <li>splitting a method into smaller ones</li>
</ol>

<p>Some refactoring practices:</p>
<ul>
  <li>Extract Variables: Instead of hard-coding the values, extract the values as a variable</li>
  <li>Extract Class: Create a new class and move the relevant fields and methods from old class
to new class</li>
</ul>



      </section>
      <footer>
        <p><small>Love &mdash; Peace &mdash; Code</small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
  </body>
</html>